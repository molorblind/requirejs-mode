<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Requirejs-mode by ricardmo</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Requirejs-mode</h1>
        <p>Imporoved javascript AMD dependencies management for the one true editor.</p>

        <p class="view"><a href="https://github.com/ricardmo/requirejs-mode">View the Project on GitHub <small>ricardmo/requirejs-mode</small></a></p>


        <ul>
          <li><a href="https://github.com/ricardmo/requirejs-mode/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ricardmo/requirejs-mode/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ricardmo/requirejs-mode">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Requirejs-mode for Emacs</h1>

<iframe width="640" height="360" src="http://www.youtube.com/embed/V6TZNPxpoeo" frameborder="0" allowfullscreen></iframe>
<p><a href="http://www.youtube.com/watch?v=V6TZNPxpoeo">See it in action</a></p>



<h2>Installation</h2>

<p>Packages are available in the <a href="http://marmalade-repo.org">marmalade</a> and
<a href="http://melpa.milkbox.net/">MELPA</a> repositories, so if you use ELPA:</p>

<pre><code>M-x package-install requirejs-mode
</code></pre>

<p>Otherwise, make sure you put the <code>requirejs-mode.el</code> in your load path.</p>

<p>Then in your <code>init.el</code> file.</p>

<pre><code>(require 'requirejs-mode)
</code></pre>

<p>If you would like to automatically load requireJs mode when editing javascript, you can put the
following in your <code>init.el</code>. Replace <code>js2-mode-hook</code> by <code>javascript-mode-hook</code> if you don't use
js2-mode.</p>

<pre><code>(add-hook 'js2-mode-hook (lambda () (requirejs-mode)))
</code></pre>

<h2>Features</h2>

<h3>Importing a file as a dependency</h3>

<p>When working in a project, it can be error prone to try and remember the exact name and path
of a javascript module you want to import in some other module.</p>

<p><code>M-x requirejs-import-file</code> fixes this problem by giving you a mini-buffer prompt from which 
you can browse your file-system for the said module. It will then insert it in the dependencies
list of your current module definition and insert a CamelCased version of it's name in the
function definition.</p>

<p>It goes the extra mile by doing some extra processing to the file-name you imported. </p>

<ul>
<li>Trims the <code>.js</code> extension and transforms <code>dash-based-names</code> to <code>CamelCased</code> in function def.</li>
<li>Prepends <code>text!</code> in the dependency to make use of the text plugin of requirejs if the file
you import is a template.</li>
<li>Adds <code>View</code> to the variable name if the file you import is within a <code>views</code> folder.</li>
<li>Adds <code>Template</code> to the variable name if the file you import is within a <code>templates</code> folder.</li>
</ul><p>Here are a couple examples. Note: I use <a href="http://backbonejs.org">Backbone.js</a> lately so most 
of these are Backbone related in some way, but not necessarely exclusive to it.</p>

<ul>
<li>
<p>Importing <code>.../javascripts/models/item.js</code></p>

<p>Will result in adding <code>'models/item'</code> in the dependencies list and <code>Item</code> in the function
definition.</p>
</li>
<li>
<p>Importing <code>.../javascripts/views/item.js</code></p>

<p>Will result in adding <code>'views/item'</code> in the dependencies list and <code>ItemView</code> in the function
definition.</p>
</li>
<li>
<p>Importing <code>.../javascripts/collections/items/sold-items.js</code></p>

<p>Will result in adding <code>'collections/items/sold-items'</code> in the dependencies list and <code>SoldItems</code>
in the function definition.</p>
</li>
<li>
<p>Importing <code>.../../templates/item.html</code></p>

<p>Will result in adding <code>'text!templates/item.html'</code> in the dependencies list and <code>ItemTemplate</code>
in the function definition.</p>
</li>
<li>
<p>Importing any file <em>not</em> within one of the <code>{models, views, collections, templates}</code> sub-folders.</p>

<p>Will result in adding <code>'file-name'</code> in the dependencies list and <code>FileName</code> in the function
definition. Thus assuming you have correctly setup your <code>require.config({ paths: {...} });</code>.</p>
</li>
</ul><h3>Adding a known module as a dependency</h3>

<p>When you import a file as a dependency, it will save its <code>('dependency-name', DependencyDeclaration)</code>
pair in a temporary associative list for the life-time of your Emacs session. You can then
access these quickly by using <code>M-x requirejs-import-add</code> and pick the one you need. It will then
be inserted in your current module definition.</p>

<p>Some defaults are already loaded in this temporary associative list for quick access:</p>

<pre><code>'jquery'     -&gt; $
'underscore' -&gt; _
'backbone'   -&gt; Backbone
</code></pre>

<h3>Creating an empty module</h3>

<p>This functionnality is only there to circumvent the need to depend on a snippet system to
create the boilerplate structure of the module. Notice that if the previous features don't
find a proper AMD structure within the current file, it will use this feature to create one
and then insert the desired imports.</p>

<p>Explicity, it generates:</p>

<pre><code>define (
    [],    
    function ( ) {

    }
);
</code></pre>

<h2>Keybindings</h2>

<ul>
<li>
<code>C-c rf</code> : require-import-file</li>
<li>
<code>C-c rc</code> : require-create</li>
<li>
<code>C-c ra</code> : require-import-add</li>
</ul><h2>Dependencies</h2>

<p>No dependencies, but it will use <code>ido</code> to auto-complete prompts if it is present.</p>

<h2>Issues</h2>

<p>If you find bugs or you would like new features to be implemented, use the <a href="https://github.com/ricardmo/requirejs-mode/issues">issue
tracker</a>, or better, make a
pull request with the fixes.</p>

<h2>License</h2>

<p>Copyright (C) 2013 Marc-Olivier Ricard</p>

<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/ricardmo">ricardmo</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-37375728-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
